angular.module("ngSmoothSubmit",[]).service("$smoothSubmit",["$rootScope","$q",function(a,b){var d=function(e){var g=b.defer();var f={success:function(i){a.$broadcast("$smoothSubmitSuccess",i);try{var h=JSON.parse(i);g.resolve(h)}catch(j){g.resolve(i)}},error:function(h){a.$broadcast("$smoothSubmitError",h);g.reject(h)}};_.merge(f,e);g.notify("$smoothSubmitSend");a.$broadcast("$smoothSubmitSend");$.ajax(f);return g.promise};var c=function(g,e,f){if((e instanceof Object)&&!(e instanceof File)&&!(e instanceof Blob)){for(key in e){if(e[key] instanceof Object){c(g,e[key],f+"["+key+"]")}else{if(e[key]===null||e[key]===undefined){e[key]=""}g.append(f+"["+key+"]",e[key])}}}else{if(e===null||e===undefined){e=""}g.append(f,e)}};return{$post:function(g,h,f){var e={};e=_.merge(e,f);e.type="POST";e.url=g;e.cache=false;e.processData=false;e.contentType=false;var i;if(h instanceof FormData){e.data=h}else{i=new FormData();this.mergeFormData(i,h);e.data=i}return d(e)},$get:function(g,h,f){var e={};e=_.merge(e,f);e.type="GET";e.url=g;e.data=h;return d(e)},mergeFormData:function(f,e){angular.forEach(e,function(h,g){c(f,h,g)})}}}]);